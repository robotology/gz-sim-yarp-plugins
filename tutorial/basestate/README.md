# Run basestate tutorial in Gazebo

## Run model in Gazebo with YARP integration

- 1st terminal:

  ~~~
  yarp server
  ~~~

- 2nd terminal:
  - Update the `GZ_SIM_RESOURCE_PATH` environment variable to point to the `tutorial` folder:

    ~~~
    export GZ_SIM_RESOURCE_PATH = $GZ_SIM_RESOURCE_PATH:<path-to-tutorial-folder>
    ~~~

  - Then, launch Gazebo:

    ~~~
    cd <path-to-tutorial-folder>/basestate
    gz sim model.sdf
    ~~~

- 3rd terminal:

  ~~~
  yarp name list
  yarp read /read ... /basestate/measures:o
  ~~~

Finally start the simulation in Gazebo. The output you will obtain is similar to the following:

~~~
0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0)) () (((0.0 -0.0 0.0) 0.0)) () () () () () (((0.0 0.0 0.200000000000000011102) 0.0)) (((0.0 0.0 0.0) 0.0)) (((0.0 0.0 0.0) 0.0))
(((0.0 0.0 0.0) 0.0299999999999999988898)) (((0.0 0.0 -9.80000000000000071054) 0.0299999999999999988898)) () (((0.0 -0.0 0.0) 0.0299999999999999988898)) () () () () () (((0.0 0.0 0.195443000000000005612) 0.0299999999999999988898)) (((0.0 0.0 -0.293999999999999928058) 0.0299999999999999988898)) (((0.0 0.0 0.0) 0.0299999999999999988898))
(((0.0 0.0 0.0) 0.0800000000000000016653)) (((0.0 0.0 -9.80000000000000071054) 0.0800000000000000016653)) () (((0.0 -0.0 0.0) 0.0800000000000000016653)) () () () () () (((0.0 0.0 0.168248000000000036414) 0.0800000000000000016653)) (((0.0 0.0 -0.784000000000000252243) 0.0800000000000000016653)) (((0.0 0.0 0.0) 0.0800000000000000016653))
(((0.0 0.0 0.0) 0.130000000000000004441)) (((0.0 0.0 -9.80000000000000071054) 0.130000000000000004441)) () (((0.0 -0.0 0.0) 0.130000000000000004441)) () () () () () (((0.0 0.0 0.116552999999999976066) 0.130000000000000004441)) (((0.0 0.0 -1.27400000000000179767) 0.130000000000000004441)) (((0.0 0.0 0.0) 0.130000000000000004441))
(((-5.19391293093423582993e-16 -8.59734018963166226092e-16 1.79725018665358871028e-19) 0.179999999999999993339)) (((-1.83438195361329068484e-15 9.93689582149718327465e-17 2.48689957516035065055e-14) 0.179999999999999993339)) () (((5.76564664955151854984e-18 -7.87146477480576499839e-18 4.14506967710288643232e-22) 0.179999999999999993339)) () () () () () (((-6.83321670176229454737e-21 -4.91345520811640369969e-21 0.0490839955900599367311) 0.179999999999999993339)) (((-7.36855507621928579702e-19 4.46128440540000262082e-19 0.000999975377500000178754) 0.179999999999999993339)) (((-1.15937679570562548372e-13 -2.13850447460455110554e-12 3.54104070568299618528e-16) 0.179999999999999993339))
(((1.24034454312627798013e-15 4.42306034526587567553e-16 -2.09985526931175405188e-19) 0.230000000000000009992)) (((3.56079777216501732071e-16 -2.5477390646205245066e-16 -1.77635683940025046468e-15) 0.230000000000000009992)) () (((1.94168075334949770072e-17 -8.08007243464471307034e-18 -4.48544151062521727985e-21) 0.230000000000000009992)) () () () () () (((-7.05189434623330529057e-21 -1.66616298485021166466e-20 0.0491339943589350625075) 0.230000000000000009992)) (((3.79620860592937572636e-19 -1.06548368687989909349e-18 0.000999975377499998444031) 0.230000000000000009992)) (((2.96973042379968515202e-13 4.14532424960528720414e-13 1.65396552742084735004e-18) 0.230000000000000009992))
(((1.01073407001427819947e-15 -2.72959084460784944622e-16 -2.10346630435796470687e-19) 0.280000000000000026645)) (((3.55428344430269509339e-16 -2.57104923742442049593e-16 -1.77635683940025046468e-15) 0.280000000000000026645)) () (((2.87468437386381473599e-17 -8.48930101770297650205e-18 -9.74631509947409328834e-21) 0.280000000000000026645)) () () () () () (((-7.42011111542377423882e-21 -2.47351262310773095047e-20 0.0491839931278101882839) 0.280000000000000026645)) (((-2.33627602874882852701e-19 -8.69281590901699786483e-19 0.000999975377499998444031) 0.280000000000000026645)) (((2.97079233279227415182e-13 4.14692719429762959004e-13 -3.11513135737992082339e-16) 0.280000000000000026645))
(((7.92291018284673154484e-16 -1.01147572046120792408e-15 6.6387472876106852367e-20) 0.330000000000000015543)) (((-1.77914675881225741546e-15 1.6171558876498556993e-16 -2.01236113135930673552e-34) 0.330000000000000015543)) () (((3.77683520982639028097e-17 -1.00552481735253696207e-17 -1.40061732465771639877e-20) 0.330000000000000015543)) () () () () () (((-8.7630306133115306354e-21 -3.25494645132605837489e-20 0.0492339918966853140603) 0.330000000000000015543)) (((-8.70096527596284314288e-19 -6.81538009162818487449e-19 0.000999975377499998444031) 0.330000000000000015543)) (((-1.86060408564119072173e-13 -2.06907614191545789548e-12 2.76034723079100382913e-16) 0.330000000000000015543))
(((-4.26086293208914205393e-16 1.25068011420825405366e-15 -2.11466072108941951242e-19) 0.380000000000000004441)) (((3.59282613895909207208e-16 -2.56997145449597917839e-16 -1.77635683940025046468e-15) 0.380000000000000004441)) () (((4.01639094616434782339e-17 -2.28864510145037538758e-18 -1.95586910719330199816e-20) 0.380000000000000004441)) () () () () () (((-2.08446023262219140741e-21 -3.46683835935733774773e-20 0.0492839906655604398367) 0.380000000000000004441)) (((1.07471553465117372133e-18 3.65180260770351019315e-19 0.000999975377499998444031) 0.380000000000000004441)) (((2.98124889292100873021e-13 4.15958862180645453753e-13 -3.10875796504277975354e-16) 0.380000000000000004441))
(((8.55011910195299689413e-16 9.02376633233639825377e-18 -2.09144992792659868271e-19) 0.429999999999999993339)) (((3.48994891848472021555e-16 -2.63839251090360733575e-16 1.77635683940025046468e-15) 0.429999999999999993339)) () (((5.51010626506476123621e-17 9.85496298145475670709e-18 -2.57401747405073486094e-20) 0.429999999999999993339)) () () () () () (((8.37283047132777583572e-21 -4.7603156935345754978e-20 0.0493339894344355656131) 0.429999999999999993339)) (((1.04308926044893666464e-20 -7.38043931740773596238e-19 0.000999975377500000178754) 0.429999999999999993339)) (((3.07298217624813935094e-13 4.02661209959339705314e-13 5.41596287970601591841e-19) 0.429999999999999993339))
(((6.56346529149484329103e-16 -7.53803264754903919928e-16 1.00242448715200524245e-19) 0.479999999999999982236)) (((-7.60614298182022823526e-17 -1.54790391365249743598e-15 1.77635683940025046468e-15) 0.479999999999999982236)) () (((6.97901019268456051154e-17 2.51452255623812806744e-17 -3.23662129869662681012e-20) 0.479999999999999982236)) () () () () () (((2.15747019485091795614e-20 -6.03428863518645036404e-20 0.0493839882033106913894) 0.479999999999999982236)) (((-6.50226422534296082119e-19 -5.66225900772433501774e-19 0.000999975377500001913478) 0.479999999999999982236)) (((1.79695180276167632748e-12 -8.64009926182378150304e-14 1.44952964189719748476e-16) 0.479999999999999982236))
(((9.36715216693348937571e-16 9.92153467596196189942e-16 -2.09167453311791190345e-19) 0.529000000000000025757)) (((3.60285172533045249775e-16 -2.59926880240707134671e-16 -1.77635683940025046468e-15) 0.529000000000000025757)) () (((8.37314636014324225467e-17 3.79868767075714068919e-17 -3.64223622258970536956e-20) 0.529000000000000025757)) () () () () () (((3.26897002281438162235e-20 -7.24670368696310586648e-20 0.0494339869721858171658) 0.529000000000000025757)) (((8.57870343033970504706e-19 -8.11580332717072744705e-19 0.000999975377500000178754) 0.529000000000000025757)) (((2.96634627162323845845e-13 4.15074694777229024176e-13 -4.29342045478795495323e-16) 0.529000000000000025757))
(((7.28477998798322287964e-16 2.70674262171432816459e-16 -2.03386249338408784088e-20) 0.578999999999999959144)) (((-7.82624082266083280643e-17 -1.55088652741244460111e-15 1.77635683940025046468e-15) 0.578999999999999959144)) () (((9.95716885686010901679e-17 5.65444763557290159476e-17 -4.22827983690824390208e-20) 0.578999999999999959144)) () () () () () (((4.87473838598296364093e-20 -8.62453901314100567985e-20 0.0494839857410609429422) 0.578999999999999959144)) (((2.32724220948196729011e-19 -6.31329805240113522308e-19 0.000999975377500001913478) 0.578999999999999959144)) (((1.79566663362607170061e-12 -8.64728895716819825332e-14 -1.03736276026058255373e-16) 0.578999999999999959144))
(((-9.69567245513945639158e-16 5.76026577313437318819e-17 8.85705755626494861543e-20) 0.629000000000000003553)) (((-6.73978715608852848423e-17 1.88494786521707083708e-15 3.95176306054188297239e-33) 0.629000000000000003553)) () (((1.16885690936348114152e-16 7.54905779590284745645e-17 -4.73742198406409751253e-20) 0.629000000000000003553)) () () () () () (((6.51752079882627033673e-20 -1.01321378438704443476e-19 0.0495339845099360687186) 0.629000000000000003553)) (((5.21347894991443903434e-20 8.3622122431738085066e-19 0.000999975377500000178754) 0.629000000000000003553)) (((-2.17855652808541960337e-12 -7.84144196795344868119e-14 2.9372167970475397703e-16) 0.629000000000000003553))
(((8.16216163746105175556e-16 1.26134987003187520606e-15 -2.04044117347821947973e-19) 0.679000000000000047962)) (((3.60457171001609996554e-16 -2.58327447935239129511e-16 -1.77635683940025046468e-15) 0.679000000000000047962)) () (((1.29691579482659895349e-16 9.18022607020719520299e-17 -5.57971501036745071118e-20) 0.679000000000000047962)) () () () () () (((7.93613828256618436061e-20 -1.12545159054739516105e-19 0.049583983278811194495) 0.679000000000000047962)) (((1.09237289903757266895e-18 -7.10272144554542885367e-19 0.000999975377499998444031) 0.679000000000000047962)) (((2.98042927421681842816e-13 4.16131421557942062832e-13 -3.07916173081833676114e-19) 0.679000000000000047962))
(((6.2145624392593553649e-16 5.23303354483526977864e-16 3.42810857048989105062e-19) 0.728999999999999981348)) (((-7.57758386493386668986e-17 -1.55667741463009163987e-15 1.77635683940025046468e-15) 0.728999999999999981348)) () (((1.42681852810945569212e-16 1.03417798739811554887e-16 -6.0765906176654201231e-20) 0.728999999999999981348)) () () () () () (((8.94979754300397822213e-20 -1.23947937848037707158e-19 0.0496339820476863202714) 0.728999999999999981348)) (((4.53783379701137093801e-19 -5.39296869245801726529e-19 0.000999975377500000178754) 0.728999999999999981348)) (((1.79789447308872617459e-12 -8.62664465661207564064e-14 3.69111068521514772482e-16) 0.728999999999999981348))
(((-7.9915455620170733772e-17 1.29798383430212309791e-15 -2.01473229212242669043e-19) 0.779000000000000025757)) (((3.53796382107443003979e-16 -2.65965159724669049797e-16 1.77635683940025046468e-15) 0.779000000000000025757)) () (((1.58326710551293867656e-16 1.24213504598777860151e-16 -6.59419496040282036533e-20) 0.779000000000000025757)) () () () () () (((1.07616331208018417827e-19 -1.37665596095521747172e-19 0.0496839808165614460478) 0.779000000000000025757)) (((1.12729947491815925275e-18 6.55528561364878165271e-20 0.000999975377500000178754) 0.779000000000000025757)) (((3.07035151218705734213e-13 4.06071620791119285568e-13 -1.024784107623520848e-18) 0.779000000000000025757))
(((4.93786797523778306683e-16 8.96820755918344444145e-16 -1.99342867180740685047e-19) 0.825999999999999956479)) (((3.60527129511282857838e-16 -2.56513567705143573842e-16 -1.77635683940025046468e-15) 0.825999999999999956479)) () (((1.70497113099215673799e-16 1.37925193631626202327e-16 -7.41589604107357480502e-20) 0.825999999999999956479)) () () () () () (((1.19591150297803638925e-19 -1.48393266746174633118e-19 0.0497299796839265617621) 0.825999999999999956479)) (((7.79579538998228695634e-19 -4.31772176075843083278e-19 0.000999975377499998444031) 0.825999999999999956479)) (((2.97878660649609616058e-13 4.17371132751511601202e-13 6.53805354687538231781e-19) 0.825999999999999956479))
(((-7.54585992533121441781e-17 -2.41355707830597504552e-17 -1.99912644392498844581e-19) 0.877000000000000001776)) (((3.53375552015886709445e-16 -2.68592804121175700993e-16 1.77635683940025046468e-15) 0.877000000000000001776)) () (((1.84821958392435266707e-16 1.48983591604235673501e-16 -8.19175492071843215715e-20) 0.877000000000000001776)) () () () () () (((1.29298684469351943054e-19 -1.61031287872159859314e-19 0.0497819784035566925695) 0.877000000000000001776)) (((-1.87614207650623180287e-20 6.03593806950710724489e-20 0.000999975377500000178754) 0.877000000000000001776)) (((3.07236793324300543495e-13 4.05307076640348828357e-13 2.36509209914638806681e-16) 0.877000000000000001776))
(((7.23175314587900842531e-16 2.62423753996093981801e-16 1.02069897066209344806e-19) 0.927000000000000046185)) (((-7.43957565433017000191e-17 -1.56104391842379349703e-15 1.77635683940025046468e-15) 0.927000000000000046185)) () (((1.99473526493687758034e-16 1.64198695949243327497e-16 -8.65379618083833000883e-20) 0.927000000000000046185)) () () () () () (((1.42641135207153795197e-19 -1.73954683087544438965e-19 0.0498319771724318183459) 0.927000000000000046185)) (((2.33396998939411244377e-19 -6.3082370298157720529e-19 0.000999975377500001913478) 0.927000000000000046185)) (((1.79642188681865723878e-12 -9.03202480600670940733e-14 -1.30901277866078627815e-16) 0.927000000000000046185))
(((-9.68381061511001312121e-16 6.48746888815150946044e-17 2.36749935773747288179e-19) 0.976999999999999979572)) (((-6.78403043051431407448e-17 1.89770677441812674459e-15 7.40700221976494806371e-33) 0.976999999999999979572)) () (((2.16554073871202408478e-16 1.83092206667536095122e-16 -9.050247695559525535e-20) 0.976999999999999979572)) () () () () () (((1.59222967205461258518e-19 -1.89012118731871117292e-19 0.0498819759413069441223) 0.976999999999999979572)) (((6.00432433320907909768e-20 8.39685740726659905965e-19 0.000999975377500000178754) 0.976999999999999979572)) (((-2.17767424251376582709e-12 -7.70777606283111488474e-14 4.33131465327949625787e-16) 0.976999999999999979572))
(((-4.15054326805285028386e-16 -7.21724682391673291278e-16 -1.14830415881562789296e-19) 1.02800000000000002487)) (((-1.58584875191673123571e-16 1.49226442801309752287e-15 -0.0073986509109662534911) 1.02800000000000002487)) () (((2.18911500271050701441e-16 2.03312703323072940725e-16 -9.41573617954991387132e-20) 1.02800000000000002487)) () () () () () (((1.77014806748653105552e-19 -1.91250432233356183595e-19 0.0499274833469900911065) 1.02800000000000002487)) (((-6.26056473615039635488e-19 3.59796307152772820966e-19 0.000732466592775309066621) 1.02800000000000002487)) (((-1.71010533573726559884e-12 -1.85277479641055154875e-13 -3.12164509477490255563e-17) 1.02800000000000002487))
~~~

On each line are listed 18 elements:

- X, Y, Z coordinates of the origin of the base link frame expressed in the world reference frame;
- Roll, Pitch and Yaw angles expressing the orientation of the base link frame with respect to the world reference frame, in radians;
- Linear velocity of the origin of the base link frame expressed in the world reference frame;
- Angular velocity of the origin of the base link frame expressed in the world reference frame;
- Linear acceleration of the origin of the base link frame expressed in the world reference frame;
- Angular acceleration of the origin of the base link frame expressed in the world reference frame;

As you can observe from the basestate plugin output, the base link frame starts at 0.2m height on Z direction (the 3rd value printed on each line) and when the simulation runs the cube falls on the ground; the Z value then remains constant to ~0.05m.

